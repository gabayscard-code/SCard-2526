<!-- Load Finger Paint font -->
<link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet">

<style>
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: #902f36;
  padding: 15px 20px;
  font-family: 'Finger Paint', cursive;
  position: sticky; /* subtle sticky */
  top: 0;
  z-index: 999;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15); /* lighter shadow for subtle depth */
}

/* LEFT LOGO */
.navbar .logo {
  display: flex;
  gap: 6px; /* reduced gap so logos are closer together than to title */
  align-items: center;
}
.navbar .logo img {
  height: 50px;
  transition: transform 0.3s;
}
.navbar .logo img:hover { transform: scale(1.05); }

/* CENTER TITLE - always centered */
.navbar .title {
  font-size: 28px;
  font-weight: bold;
  white-space: nowrap;
  text-align: center;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}
.title span:nth-child(1) { color: #fedd1d; }
.title span:nth-child(2) { color: #dce198; }
.title span:nth-child(3) { color: #b6e630; }
.title span:nth-child(4) { color: #cbd54b; }
.title span:nth-child(5) { color: #fedd1d; }
.title span:nth-child(6) { color: #dce198; }
.title span:nth-child(7) { color: #b6e630; }
.title span:nth-child(8) { color: #cbd54b; }
.title span:nth-child(9) { color: #fedd1d; }

/* RIGHT NAV LINKS */
.navbar .nav-links {
  display: flex;
  gap: 15px;
}
.navbar .nav-links a {
  text-decoration: none;
  color: white;
  font-size: 16px;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background 0.3s;
}
.navbar .nav-links a:hover { background-color: rgba(255,255,255,0.1); }

/* HAMBURGER ICON (hidden by default) */
.hamburger {
  display: none;
  flex-direction: column;
  cursor: pointer;
  gap: 4px;
}
.hamburger div {
  width: 25px;
  height: 3px;
  background: white;
  border-radius: 2px;
  transition: all 0.3s;
}

/* MOBILE DROPDOWN */
.mobile-nav {
  display: none;
  flex-direction: column;
  position: absolute;
  right: 0;
  top: 100%;
  background-color: #902f36;
  padding: 10px 0;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  width: 140px;
  z-index: 999;
}
.mobile-nav a {
  padding: 8px 15px;
  font-size: 16px;
  color: white;
  text-decoration: none;
}
.mobile-nav a:hover { background-color: rgba(255,255,255,0.1); }

/* RESPONSIVE MOBILE */
@media (max-width: 700px) {
  .navbar {
    padding: 12px 15px;
  }
  .navbar .nav-links { display: none; }
  .hamburger { display: flex; }

  /* Adjust logos to avoid overlap with title */
  .navbar .logo img {
    height: 36px; /* smaller logos on mobile */
  }
}
</style>

<div class="navbar">
  <!-- LEFT LOGO -->
  <div class="logo">
    <img src="https://raw.githubusercontent.com/gabayscard-code/SCard-2526/2b141dee4659d959700f4c7d2d91ca91f5a3150f/Gabay%20%5BLogo%20-%20White%5D" alt="Logo">
    <img src="https://raw.githubusercontent.com/gabayscard-code/SCard-2526/16e8ab87551a1d20b86a60a4afe66db263ad3691/White.png" alt="Logo">
  </div>

  <!-- CENTER TITLE -->
  <div class="title">
    <a href="https://sites.google.com/view/scholarscard/home" style="text-decoration:none;">
      <span>S</span><span>C</span><span>A</span><span>R</span><span>D</span>
      <span>2</span><span>5</span><span>2</span><span>6</span>
    </a>
  </div>

  <!-- RIGHT NAV LINKS -->
  <div class="nav-links">
    <a href="https://sites.google.com/view/scholarscard/about-scard">About SCard</a>
    <a href="https://sites.google.com/view/scholarscard/partners">Partners</a>
    <a href="https://sites.google.com/view/scholarscard/contact-us">Contact Us</a>
  </div>

  <!-- HAMBURGER ICON -->
  <div class="hamburger" onclick="toggleMenu(this)">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <!-- MOBILE DROPDOWN -->
  <div class="mobile-nav">
    <a href="https://sites.google.com/view/scholarscard/about-scard">About SCard</a>
    <a href="https://sites.google.com/view/scholarscard/partners">Partners</a>
    <a href="https://sites.google.com/view/scholarscard/contact-us">Contact Us</a>
  </div>
</div>

<script>
function toggleMenu(el) {
  el.classList.toggle("active");
  const mobileNav = document.querySelector(".mobile-nav");
  if(mobileNav.style.display === "flex") mobileNav.style.display = "none";
  else mobileNav.style.display = "flex";
}
</script>





<div style="height: 30px;"></div>





<div style="width:100vw; margin-left:calc(50% - 50vw); overflow-x:hidden;">
<!-- Make mobile scaling work properly -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&display=swap" rel="stylesheet">

<div style="font-family:'Karla', sans-serif; max-width:1000px; margin:auto;">

  <!-- Search Bar -->
  <div style="display:flex; flex-direction:column; align-items:center; margin-bottom:20px;">
    <input 
      id="searchInput" 
      type="text" 
      placeholder="Looking for a specific SCard partner?" 
      style="width:90%; padding:12px 16px; border:none; border-radius:30px; background-color:#902f36; color:white; font-size:16px; outline:none; text-align:center;">
  </div>

  <!-- Filter Buttons -->
  <div id="filters" style="display:flex; flex-wrap:wrap; justify-content:center; gap:10px; margin-bottom:25px;">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="JSEC">JSEC</button>
    <button class="filter-btn" data-filter="Gonz1">Gonz1</button>
    <button class="filter-btn" data-filter="Along Katipunan">Along Katipunan</button>
    <button class="filter-btn" data-filter="Other Locations">Other Locations</button>
    <button class="filter-btn" data-filter="Food">Food</button>
    <button class="filter-btn" data-filter="Services">Services</button>
    <button class="filter-btn" data-filter="Accessories">Accessories</button>
  </div>

  <!-- Partner Cards -->
  <div id="cardContainer" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:20px;">
    <!-- Cards go here -->
  </div>

  <!-- Pagination Controls -->
  <div id="pagination" style="display:flex; justify-content:center; align-items:center; margin-top:25px; gap:6px; flex-wrap:wrap;">
    <!-- Page numbers go here -->
  </div>

</div>

<script>
const partners = [
  { name:"Kindred", tier:"Platinum", discount: ["40% discount on medical consultations to new customers","30% discount to medical consultations to old customers"], filters:["Services","Other Locations"] },
  { name:"Homeboy Hainanese Hawker", tier:"Platinum", discount:"20% discount", filters:["Other Locations","Food"] },
  { name:"Funki Izakaya", tier:"Bronze", discount:["10% discount every Monday to Thursday","5% discount every Friday and Saturday","Free Hot or Iced Americano for every ₱300 purchase"], filters:["Along Katipunan","Food"] },
  { name:"Funki Pizzikaya", tier:"Bronze", discount:["10% discount every Monday to Thursday","5% discount every Friday and Saturday","Free Hot or Iced Americano for every ₱300 purchase"], filters:["Along Katipunan","Food"] },
  { name:"Charlie’s", tier:"Bronze", discount:["10% discount every Monday to Thursday","5% discount every Friday and Saturday","Free Hot or Iced Americano for every ₱300 purchase"], filters:["Along Katipunan","Food"] },
  { name:"Funki Izakaya - Masinag", tier:"Bronze", discount:["10% discount every Monday to Thursday","5% discount every Friday and Saturday","Free Hot or Iced Americano for every ₱300 purchase"], filters:["Other Locations","Food"] },
  { name:"Anytime Fitness", tier:"Platinum", discount:["38% discount on the Regular Enrollment Package","Tiered discounts on Personal Training Packages"], filters:["Along Katipunan","Services"] },
  { name:"Allo Coffee Roasters", tier:"Bronze", discount:"10% discount on drinks", filters:["Food","Along Katipunan"] },
  { name:"SweatBread Cafe", tier:"Bronze", discount: ["10% discount on one food order per member per day", "10% discount on one drink order per member per day"] , filters:["Food","Others"] },
  { name:"Potico", tier:"Platinum", discount:"30% discount with free shipping (ADMUGABAY30), valid for multiple uses with a maximum discount of PHP 250.", filters:["Accessories","Other Locations"] },
  { name:"FlowerStore", tier:"Platinum", discount:"20% discount with free shipping (ADMUGABAY20), valid for multiple uses with a maximum discount of PHP 200.", filters:["Accessories","Other Locations"] }
];

const cardContainer = document.getElementById("cardContainer");
const pagination = document.getElementById("pagination");

let currentPage = 1;
const cardsPerPage = 9;
let filteredPartners = [...partners];

function renderCards(list, page=1) {
  const start = (page - 1) * cardsPerPage;
  const end = start + cardsPerPage;
  const paginated = list.slice(start, end);

  cardContainer.innerHTML = paginated.map(p => `
    <div style="
      background:white; 
      border-radius:16px; 
      padding:16px; 
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      border-top:5px solid ${getTierColor(p.tier)};
    ">
      <h3 style="margin:0; font-weight:700; color:#902f36;">${p.name}</h3>
      <p style="margin:4px 0;"><strong>${p.tier}</strong> Partner</p>
      <div style="margin:4px 0;">
        ${
          Array.isArray(p.discount)
            ? p.discount.map(d => `<div>${d}</div>`).join('')
            : `<div>${p.discount}</div>`
        }
      </div>
      <div style="display:flex; flex-wrap:wrap; gap:5px; margin-top:8px;">
        ${p.filters.map(f => `<span style="
          background-color:${getFilterColor(f)}; 
          color:#902f36;
          padding:4px 8px;
          border-radius:12px;
          font-size:12px;
        ">${f}</span>`).join('')}
      </div>
    </div>
  `).join('');

  updatePagination(list);
}

function getTierColor(tier) {
  switch(tier) {
    case "Platinum": return "#b6e630";
    case "Gold": return "#fedd1d";
    case "Bronze": return "#cbd54b";
    default: return "#dce198";
  }
}

function getFilterColor(filter) {
  const colors = ["#fedd1d","#dce198","#b6e630","#cbd54b"];
  return colors[filter.length % colors.length];
}

function filterCards() {
  const search = document.getElementById("searchInput").value.toLowerCase();
  const activeFilters = Array.from(document.querySelectorAll(".filter-btn.active"))
                            .map(btn => btn.dataset.filter);

  // If "All" is active → show everything
  if (activeFilters.includes("all")) {
    filteredPartners = partners.filter(p => 
      p.name.toLowerCase().includes(search)
    );
  } else {
    // AND logic: must include *all* active filters
    filteredPartners = partners.filter(p => {
      const matchesSearch = p.name.toLowerCase().includes(search);
      const matchesFilters = activeFilters.every(f => p.filters.includes(f));
      return matchesSearch && matchesFilters;
    });
  }

  currentPage = 1;
  renderCards(filteredPartners, currentPage);
}

function updatePagination(list) {
  const totalPages = Math.ceil(list.length / cardsPerPage);
  pagination.innerHTML = "";

  if (totalPages <= 1) return;

  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("button");
    btn.textContent = i;
    btn.className = "page-number";
    if (i === currentPage) btn.classList.add("active-page");
    btn.addEventListener("click", () => {
      currentPage = i;
      renderCards(filteredPartners, currentPage);
    });
    pagination.appendChild(btn);
  }
}

document.getElementById("searchInput").addEventListener("input", filterCards);

document.querySelectorAll(".filter-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    if (btn.dataset.filter === "all") {
      document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    } else {
      const allBtn = document.querySelector('.filter-btn[data-filter="all"]');
      allBtn.classList.remove("active");

      btn.classList.toggle("active");

      const activeBtns = document.querySelectorAll(".filter-btn.active:not([data-filter='all'])");
      if (activeBtns.length > 2) btn.classList.remove("active");

      if (document.querySelectorAll(".filter-btn.active:not([data-filter='all'])").length === 0) {
        allBtn.classList.add("active");
      }
    }
    filterCards();
  });
});

// Initial render
renderCards(partners);
</script>

<style>
.filter-btn {
  background-color:white;
  border:2px solid #902f36;
  color:#902f36;
  border-radius:20px;
  padding:6px 14px;
  font-family:'Karla', sans-serif;
  font-size:14px;
  cursor:pointer;
  transition:all 0.2s ease;
}
.filter-btn:hover, .filter-btn.active {
  background-color:#902f36;
  color:white;
}

/* Pagination style */
.page-number {
  background-color:white;
  border:2px solid #902f36;
  color:#902f36;
  border-radius:10px;
  padding:6px 12px;
  font-family:'Karla', sans-serif;
  font-size:14px;
  cursor:pointer;
  transition:all 0.2s ease;
}
.page-number:hover {
  background-color:#902f36;
  color:white;
}
.active-page {
  background-color:#902f36;
  color:white;
  border-color:#902f36;
}

/* White italicized placeholder */
#searchInput::placeholder {
  color:white;
  font-style:italic;
  opacity:1;
}

/* ✅ Mobile Adaptability */
div[style*="max-width:1000px"] {
  padding: 0 10px;
}

#cardContainer {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
}

@media (max-width: 600px) {
  #filters {
    flex-direction: column;
    align-items: center;
  }

  .filter-btn {
    width: 80%;
    font-size: 16px;
    padding: 10px;
  }

  #searchInput {
    width: 95%;
    font-size: 16px;
  }

  .page-number {
    padding: 8px 14px;
    font-size: 16px;
  }

  #cardContainer div {
    padding: 14px;
  }
}
</style>
</div>
