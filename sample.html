<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SCard 2526 | Partners</title>

<!-- Load Finger Paint font -->
<link href="https://fonts.googleapis.com/css2?family=Finger+Paint&display=swap" rel="stylesheet">

<style>
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: #902f36;
  padding: 17px 20px;
  font-family: 'Finger Paint', cursive;
  position: sticky;
  top: 0;
  z-index: 999;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* LEFT LOGO */
.navbar .logo {
  display: flex;
  gap: 10px;
  align-items: center;
}
.navbar .logo img {
  height: 50px;
  transition: transform 0.3s;
}
.navbar .logo img:hover { transform: scale(1.05); }

/* CENTER TITLE */
.navbar .title {
  font-size: 28px;
  font-weight: bold;
  white-space: nowrap;
  text-align: center;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}
.title span:nth-child(1) { color: #fedd1d; }
.title span:nth-child(2) { color: #dce198; }
.title span:nth-child(3) { color: #b6e630; }
.title span:nth-child(4) { color: #cbd54b; }
.title span:nth-child(5) { color: #fedd1d; }
.title span:nth-child(6) { color: #dce198; }
.title span:nth-child(7) { color: #b6e630; }
.title span:nth-child(8) { color: #cbd54b; }
.title span:nth-child(9) { color: #fedd1d; }

/* RIGHT NAV LINKS */
.navbar .nav-links {
  display: flex;
  gap: 15px;
}
.navbar .nav-links a {
  text-decoration: none;
  color: white;
  font-size: 16px;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background 0.3s;
}
.navbar .nav-links a:hover { background-color: rgba(255,255,255,0.1); }

/* HAMBURGER ICON */
.hamburger {
  display: none;
  flex-direction: column;
  cursor: pointer;
  gap: 4px;
}
.hamburger div {
  width: 25px;
  height: 3px;
  background: white;
  border-radius: 2px;
  transition: all 0.3s;
}

/* MOBILE DROPDOWN */
.mobile-nav {
  display: none;
  flex-direction: column;
  position: absolute;
  right: 0;
  top: 100%;
  background-color: #902f36;
  padding: 10px 0;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  width: 140px;
  z-index: 999;
}
.mobile-nav a {
  padding: 8px 15px;
  font-size: 16px;
  color: white;
  text-decoration: none;
}
.mobile-nav a:hover { background-color: rgba(255,255,255,0.1); }

/* RESPONSIVE MOBILE */
@media (max-width: 700px) {
  .navbar {
    padding: 17px 20px;
  }
  .navbar .nav-links { display: none; }
  .navbar .logo { display: none; }
  .hamburger {
    display: flex;
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
  }
  .navbar .title {
    margin-top: 5px;
    margin-bottom: 5px;
  }
}
</style>

<div class="navbar">
  <div class="logo">
    <img src="https://raw.githubusercontent.com/gabayscard-code/SCard-2526/2b141dee4659d959700f4c7d2d91ca91f5a3150f/Gabay%20%5BLogo%20-%20White%5D" alt="Logo">
    <img src="https://raw.githubusercontent.com/gabayscard-code/SCard-2526/16e8ab87551a1d20b86a60a4afe66db263ad3691/White.png" alt="Logo">
  </div>

  <div class="title">
    <a href="https://scholarscard.gabayateneo.org/" style="text-decoration:none;">
      <span>S</span><span>C</span><span>A</span><span>R</span><span>D</span>
      <span>2</span><span>5</span><span>2</span><span>6</span>
    </a>
  </div>

  <div class="nav-links">
    <a href="https://scholarscard.gabayateneo.org/how_to_use.html">How to Use</a>
    <a href="https://scholarscard.gabayateneo.org/partners.html">Partners</a>
    <a href="https://sites.google.com/view/scholarscard/contact-us">Contact Us</a>
  </div>

  <div class="hamburger" onclick="toggleMenu(this)">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <div class="mobile-nav">
    <a href="https://sites.google.com/view/scholarscard/about-scard">About SCard</a>
    <a href="https://sites.google.com/view/scholarscard/partners">Partners</a>
    <a href="https://sites.google.com/view/scholarscard/contact-us">Contact Us</a>
  </div>
</div>

<script>
function toggleMenu(el) {
  el.classList.toggle("active");
  const mobileNav = document.querySelector(".mobile-nav");
  if(mobileNav.style.display === "flex") mobileNav.style.display = "none";
  else mobileNav.style.display = "flex";
}
</script>

<div style="height: 30px;"></div>

<div style="width:100vw; margin-left:calc(50% - 50vw); overflow-x:hidden;">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Karla:wght@400;700&display=swap" rel="stylesheet">

<div style="font-family:'Karla', sans-serif; max-width:1000px; margin:auto;">
  <div style="display:flex; flex-direction:column; align-items:center; margin-bottom:20px;">
    <input 
      id="searchInput" 
      type="text" 
      placeholder="Looking for a specific SCard partner? Search here!" 
      style="width:90%; padding:12px 16px; border:none; border-radius:30px; background-color:#902f36; color:white; font-size:16px; outline:none; text-align:center;">
  </div>

  <!-- Filters -->
  <div id="filters" style="display:flex; flex-wrap:wrap; justify-content:center; gap:10px;">
    <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center;">
      <strong>Industry:</strong>
      <button class="filter-btn" data-filter="Food" data-group="industry">Food</button>
      <button class="filter-btn" data-filter="Services" data-group="industry">Services</button>
      <button class="filter-btn" data-filter="Accessories" data-group="industry">Accessories</button>
    </div>
    <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center;">
      <strong>Location:</strong>
      <button class="filter-btn" data-filter="JSEC" data-group="location">JSEC</button>
      <button class="filter-btn" data-filter="Regis" data-group="location">Regis</button>
      <button class="filter-btn" data-filter="Along Katipunan" data-group="location">Along Katipunan</button>
      <button class="filter-btn" data-filter="Other Locations" data-group="location">Other Locations</button>
      <button class="filter-btn" data-filter="Online" data-group="location">Online</button>
    </div>
  </div>

  <!-- Partner Cards -->
  <div id="cardContainer" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:20px;">
  </div>

  <!-- Pagination -->
  <div id="pagination" style="display:flex; justify-content:center; align-items:center; margin-top:25px; gap:6px; flex-wrap:wrap;">
  </div>
</div>

<script>
const partners = [
  { name:"Kindred", tier:"Platinum", discount: ["40% discount on medical consultations to new customers","30% discount to medical consultations to old customers"], filters:["Services","Other Locations"], googleMapsLink: "https://www.google.com/maps/place/Kindred+Clinic" },
  { name:"Homeboy Hainanese Hawker", tier:"Platinum", discount:"20% discount", filters:["Other Locations","Food"] },
  { name:"Funki Izakaya", tier:"Bronze", discount:["Pop Up", "10% discount every Monday to Thursday","5% discount every Friday and Saturday"], filters:["Along Katipunan","Food"] },
  // ... other partners ...
];

const cardContainer = document.getElementById("cardContainer");
const pagination = document.getElementById("pagination");

let currentPage = 1;
const cardsPerPage = 9;
let filteredPartners = [...partners];

function renderCards(list, page=1) {
  const start = (page - 1) * cardsPerPage;
  const end = start + cardsPerPage;
  const paginated = list.slice(start, end);

  cardContainer.innerHTML = paginated.map(p => `
    <div class="partner-card" style="
      background:white; 
      border-radius:16px; 
      padding:16px; 
      box-shadow:0 2px 6px rgba(0,0,0,0.1);
      border-top:5px solid ${getTierColor(p.tier)};
      position:relative;
      cursor:pointer;
      overflow:hidden;
    " data-link="${p.googleMapsLink ? p.googleMapsLink : ''}">
      ${
        p.googleMapsLink
        ? `<div class="overlay" style="
            position:absolute;
            top:0; left:0; right:0; bottom:0;
            display:flex;
            justify-content:center;
            align-items:center;
            background:rgba(0,0,0,0.6);
            color:white;
            font-weight:700;
            font-size:18px;
            opacity:0;
            transition:opacity 0.3s;
            z-index:2;
          ">üìç View on Maps</div>` 
        : ''
      }
      <h3 style="margin:0; font-weight:700; color:#902f36;">${p.name}</h3>
      <p style="margin:4px 0;"><strong>${p.tier}</strong> Partner</p>
      <div style="margin:4px 0;">
        ${
          Array.isArray(p.discount)
            ? p.discount.map(d => `<div>${d}</div>`).join('')
            : `<div>${p.discount}</div>`
        }
      </div>
      <div style="display:flex; flex-wrap:wrap; gap:5px; margin-top:8px;">
        ${p.filters.map(f => `<span style="
          background-color:${getFilterColor(f)}; 
          color:#902f36;
          padding:4px 8px;
          border-radius:12px;
          font-size:12px;
        ">${f}</span>`).join('')}
      </div>
    </div>
  `).join('');

  document.querySelectorAll('.partner-card').forEach(card => {
    const overlay = card.querySelector('.overlay');
    if(overlay){
      card.addEventListener('mouseenter', () => { if(window.innerWidth>600) overlay.style.opacity=1; });
      card.addEventListener('mouseleave', () => { overlay.style.opacity=0; });
      card.addEventListener('click', () => { window.open(card.dataset.link, '_blank'); });
    }
  });

  updatePagination(list);
}

function getTierColor(tier) {
  switch(tier) {
    case "Platinum": return "#b6e630";
    case "Gold": return "#fedd1d";
    case "Bronze": return "#cbd54b";
    default: return "#dce198";
  }
}

function getFilterColor(filter) {
  const colors = ["#fedd1d","#dce198","#b6e630","#cbd54b"];
  return colors[filter.length % colors.length];
}

function filterCards() {
  const search = document.getElementById("searchInput").value.toLowerCase();
  const activeFilters = Array.from(document.querySelectorAll(".filter-btn.active"))
                            .map(btn => btn.dataset.filter);

  filteredPartners = partners.filter(p => {
    const matchesSearch = p.name.toLowerCase().includes(search);
    const matchesFilters = activeFilters.every(f => p.filters.includes(f));
    return matchesSearch && matchesFilters;
  });

  currentPage = 1;
  renderCards(filteredPartners, currentPage);
}

function updatePagination(list) {
  const totalPages = Math.ceil(list.length / cardsPerPage);
  pagination.innerHTML = "";

  if (totalPages <= 1) return;

  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("button");
    btn.textContent = i;
    btn.className = "page-number";
    if (i === currentPage) btn.classList.add("active-page");
    btn.addEventListener("click", () => {
      currentPage = i;
      renderCards(filteredPartners, currentPage);
    });
    pagination.appendChild(btn);
  }
}

document.getElementById("searchInput").addEventListener("input", filterCards);

// FILTER BUTTONS: toggle independent selection
document.querySelectorAll(".filter-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    btn.classList.toggle("active");
    filterCards();
  });
});

// Initial render
renderCards(partners);
</script>

<style>
.filter-btn {
  background-color:white;
  border:2px solid #902f36;
  color:#902f36;
  border-radius:20px;
  padding:6px 14px;
  font-family:'Karla', sans-serif;
  font-size:14px;
  cursor:pointer;
  transition:all 0.2s ease;
}
.filter-btn:hover, .filter-btn.active {
  background-color:#902f36;
  color:white;
}

/* Pagination style */
.page-number {
  background-color:white;
  border:2px solid #902f36;
  color:#902f36;
  border-radius:10px;
  padding:6px 12px;
  font-family:'Karla', sans-serif;
  font-size:14px;
  cursor:pointer;
  transition:all 0.2s ease;
}
.page-number:hover {
  background-color:#902f36;
  color:white;
}
.active-page {
  background-color:#902f36;
  color:white;
  border-color:#902f36;
}

/* White italicized placeholder */
#searchInput::placeholder {
  color:white;
  font-style:italic;
  opacity:1;
}

/* Mobile Adaptability */
div[style*="max-width:1000px"] {
  padding: 0 10px;
}

#cardContainer {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
}

@media (max-width: 600px) {
  #filters {
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 7px;
  }

  .filter-btn {
    flex: 1 1 auto;
    max-width: 40%;
    font-size: 12px;
    padding: 5px 9px;
  }

  #searchInput {
    width: 95%;
    font-size: 16px;
  }

  .page-number {
    padding: 8px 14px;
    font-size: 16px;
  }

  #cardContainer div {
    padding: 14px;
  }
}
</style>
</div>

</body>
</html>
